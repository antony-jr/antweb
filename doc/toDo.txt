To Do List:


Make the map link on a page like: https://www.antweb.org/browse.do?subfamily=myrmicinae&rank=subfamily&bioregionName=Malagasy&statusSet=all
  be sensitive to the selected status.
Fix db backup process. To frequently the db archives are not readable.
Sort by not working on advanced search results page.

Db taken down. 
  2020-04-13 14:00:41,200 WARN ajp-nio-8009-exec-225 org.calacademy.antweb.util.DBUtil - <br><br>Mon Apr 13 14:00:41 PDT 2020 isServerBusy YES!  num:101  images - (count:1777 | avg:264 | max:28639 | mostSlow:null)<br> locality - (count:117 | avg:5519 | max:47113 | mostSlow:null)<br> specimenAction - (count:1328 | avg:7 | max:321 | mostSlow:null)<br> description - (count:904 | avg:7024 | max:52300 | mostSlow:null)<br> collection - (count:399 | avg:2 | max:40 | mostSlow:null)<br> browse - (count:630 | avg:13557 | max:121011 | mostSlow:null)<br> Memory:max:3,641MB free:1,185MB total:3,431MB
  See logs for subsequent stack traces.
  
Small things/immediate frame  
  Field guide heading and back link fixes.
  This page is insecure: https://www.antweb.org/description.do?subfamily=amblyoponinae&genus=adetomyrma&rank=genus&countryName=Madagascar
    Verify CKEditor working. CK editor testing.
    Secure the description_edit titles.
      select count(*), title from description_edit where content like '%http://www.antweb%' group by title order by count(*) desc;
    Maps not working on insecure pages that have included images in insecure ways.
  Fix worldants line numbers. Do not overwrite line numbers in taxa from specimen data? Sometimes/usually correct?
  Get rid of old specimen data created taxa...
    All of the taxa with subgenus fields are from specimen data. If I understand correctly, those taxa records should not exist because they were created from old specimen uploads... I will see if I can find all taxa records that should not exist and systematically remove them. List of taxa with subgenus data (100 records) included below...
    See TaxonDb:836
  specimen contributed subgenera... get rid of. Do not take subgenus data from specimens.     
  Review Integrity Queries - no better time than now. Review the orphan tools?

Server
  Get browsers to stay connected.
    keep-alive. Asked Joe to see if he could...
  Lost connection logging. C3p0 load balancer. Good for debugging.
  Uptime.do seems to be working even when the server is dead.
  Where is the disk full warning? More space or relax requirement.

Joe/Randy Things (he has recommended or is involved with)
  Server creation scripting. Would save us and him time in the future.
  Antcat docker
    To lower Joe's Bus Factor. It breaks so frequently. Should be easy might help us in ways.
  Antweb docker. Tomcat docker. Not sure if these are important but Joe might like.

Image verification.
  Images are misnamed, inconsistent.
  If we fix them we will be able to ascertain accuracy of images.
  Then we can put checks in place to assert accuracy.
  Notes:
    1100 original tiffs renamed to be upper case.
    30524 image records corrected, has_tiff = 0;
      Theses had invalid links to the original file.

Assorted
  EXIF data in images. Exif/IPTC data.
	Bad exif data: https://www.antweb.org/bigPicture.do?name=lacment145067&shot=p&number=1
    Apr 24 Look into exif data... utf8?
  Tool to support discovery coming from Bolton NGC
    So that Ant people can verify names, a function... Uploading a CSV or Tab delimited list
      Subfamily [option], Genus [possibly just this], Species, subspecies
    By including a location, like Madagascar, could be a clue to help identification.
    Get report back of options... An interface into Antcat data.

Low Priority
  Turn Worldants Query into a proper page so that it has navigation links.
  One day I would like us to add a table for the world where all the "country" stats are summarized like in his example for coronavirus (scroll down to country list) where we have all the stats for species, invasives and endemics.  https://www.worldometers.info/coronavirus/
    Bioregion, regions, subregions, countries, adm1s. 
    Country table showing species countries, endemics, and invasives for easy comparison across countries

------------

select has_tiff, count(*) from image group by has_tiff;
+----------+----------+
| has_tiff | count(*) |
+----------+----------+
|        0 |     3780 |
|        1 |   223404 |
+----------+----------+
2 rows in set (0.13 sec)

fileFoundCount:1028451 fileNotFoundCount:48754 success:215441 failure:0
OT:166066 OJ:665 T:215430 L215430 M:215430 H:215430 !OT:47716 !OJ:998 !T:10 !L:10 !M:10 !H:10

fileFoundCount:25638 fileNotFoundCount:337 success:5195 failure:0
OT:4264 OJ:610 T:5191 L5191 M:5191 H:5191 !OT:26 !OJ:295 !T:4 !L:4 !M:4 !H:4

OT:166088 OJ:31189 T:215455 L215455 M:215455 H:215455 !OT:17195 !OJ:998 !T:10 !L:10 !M:10 !H:10 hasTifCorrected:30503

select has_tiff, count(*) from image group by has_tiff;
+----------+----------+
| has_tiff | count(*) |
+----------+----------+
|        0 |    34304 |
|        1 |   192905 |
+----------+----------+
2 rows in set (0.12 sec)

Where are the originals for D and L? Concern. Is this common?
  https://www.antweb.org/images/casent0004700/

Update charset to utf8, and engine to innoDB for all tables.
  See doc/innoDbAndUtf8.txt


To do
  Deprecate:
	http://localhost/antweb/util.do?action=changeOwnerAndPerms&code=
	http://localhost/antweb/util.do?action=moveImages&code=
	http://localhost/antweb/toUpload.do?action=clear
	http://localhost/antweb/toUpload.do
  ArtistMgr "add/remove" photographer" feature
	Duplicated artist names
	UTF8
	Change imageUpload and uploaded timestamps to datetime?
  Apr 24 email no fossils for Bioregions. Don't add fossils to bioregions.
    should not show up... https://www.antweb.org/taxonomicPage.do?rank=species&bioregionName=Afrotropical&statusSet=valid%20fossil
    If there are bioregions in fossil taxa then it must be coming from specimens (if after today).
    See if we can add taxon table and fossil criteria to BioregionTaxonDb.populateSpeciesFromSpecimen()

Create:
  Recent Activity On Home page.
	Specimen uploads
	  Utah uploaded 25000 more specimens this week.
	Antcat
	  Worldants uploaded x many more
	Description edits
	Image uploads
	New Artists
	New Museums
  description edit reports. Counts.
  Login system. Required fields. Can any login make desc edits? Refactor groups and logins.
  Add curator details to curator.do for taxonProps (setting images?). Editing pages. Species list tool,...

Address "help info" email. On museum page, the recalc links documentation.

contributions
  Big Picture page uploaded by links to group.do?id=1
  Group page.
  Curators should link through to curator.do page.
  Uploaded by: Institution or person (curator)
  Museum (owned by field).
  Photographer
	link page. Image authors.
  http://localhost/antweb/curator.do?id=1
  http://localhost/antweb/groups.do

Error? in  ImagePickDb.getDefaultSpecimenWithClause() shouldn't use is_queen, is_...
   Should use caste field.
   Remove is_ fields entirely. And UtilData.calcCaste?

Add statistics to More page. With Detailed explanation.
  Explanatory text

  Feb 27 file email. How to make more evident the discrepancies between antweb and antcat?

Figure Museum specimens.
  A page like this should show specimens and museum specimens.
https://www.antweb.org/taxonomicPage.do?rank=species&museumCode=AFRC
  Currently all is shown.
  A page like this should return just museum specimen: http://localhost/antweb/browse.do?genus=acropyga&species=arnoldi&rank=species&museumCode=AFRC

  Get the self-referential taxon link to work from here: http://localhost/antweb/description.do?genus=mycacepurus&species=l%C3%BCderwalti&rank=species

Specimen
  Source field added.
    awLit[Institution acronym][num] - be created for the new Brazilian upload file.
    museum, literature, observation,
      museum is default


Museum modifications
  Add a Global vs Museum specimen count on the taxaonomicPage for museum, as done geolocal
  Calculate specimen_local_count for museum. Display.
  Do the same for bioregion? Not for project.

  * Get the statistics consistent between Antcat and Antweb.


Investigate
  fixGeolocaleTaxonParentage
    Fix fixGeolocaleParentage and fixTaxonParentage in geolocaleTaxon. See GeolocaleTaxonDb.java for details.
  Check overview totals...
  Try to capture more curator info.

	https://www.antweb.org/description.do?genus=temnothorax&species=angustinodus&rank=species
	Homonym. Only displaying admin info. Homonym of what?

Adjust the source for proj_taxon?
  select count(*), source , project_name from proj_taxon group by source, project_name order by project_name;

Specimen page. Collector. Uploader. Owner. Names and icons.
  On big image page.

API.
  Attribution terms documentation.
  Create a log of people who are accessing the API.

Opportunities.
  geolocale taxon assert. Support specimen.
  Project work to align with geolocale.
  Data testing framework.
  Process for bioregions and museums as we did for geolocale.
	https://www.antweb.org/browse.do?subfamily=formicinae&genus=acropyga&rank=genus&bioregionName=Indomalaya
	acropyga major should be specimen source.
  need to treat bioregion pages as we do geolocale pages so people don't get confused.
	Bioregion taxonomic pages do not have literature records. We need to have them.


  Calculate E and I for genera.
	which genera are endemic to that region (that is, the genus is only found in that georegion or bioregion)
	  and for Introduced genus - it would mean that all species known from that georegion or bioregion for that genus are introduced.
  Bioregion endemic/introduced (for genus and species)
  Bioregion next to current view on country page. Linkable.
  add species counts to advanced search map titles. Genera?

Image work
  Resolve Jack's image issue.
	Enable shotNumber = 0 image records to be displayed in Antweb UI.
	Create image records for the 245 images that were not recognized with shotNumber = 0.
	  Regenerate derivative images for the 245. (This resolves the broken images)
	Modify processing pipeline to create records and derivative images for shotNumber = 0.
	  (This prevents problem in the future).
  Image File Upload
	https://github.com/blueimp/jQuery-File-Upload/wiki
	https://stackoverflow.com/questions/42931579/is-there-java-version-for-the-blueimp-jquery-file-upload
  Fix the image upload process. Attribution.

GBIF
Find all the valid species and sp that have no specimens with anything in the type status field.
  No typed.
  Other query: That have no images at all.
MCZ Museum of Comparative Zoology. Largest collection.

Document
  http://localhost/antweb/utilData.do?action=generateGeolocaleTaxaFromSpecimens
    This takes about 2 seconds to run. Currently in scheduler. Should be after specimen upload.
    Maybe add this to the upload process?
      Make curator sensitive.
  http://localhost/antweb/utilData.do?action=fixGeolocaleTaxonParentage
    Should be run periodically. Takes about a minute.


Fix the orphan manager. See email "orphan taxa"

There are undeleted specimen from prior specimen uploads.

Maps:
  Map:445 take care of project. If like geolocale was, invalid query. Taxon join is insufficient on taxonName.
   Get rid of project maps entirely? Yes!
  Maps in full pane
  Generate maps for regions and subregions
  Data during search. Report on Georeferenced records. Gain search consistency when on list mode maps and map localites from adv search page. (Done?)
  Get zoom right on a page like: http://localhost/antweb/group.do?id=16
  Map clusters
  The map button on search results. (Now unnecessary?)
  Persist the maps for geolocales in a scheduled process. (Done?)
	Could do for taxa to save load time. (Skip? - not needed, fast enough already).

why show not valid taxa here: http://localhost/antweb/browse.do?subfamily=dolichoderinae&rank=subfamily&bioregionName=Neotropical

Search
  Add redflag to search.
  Add other statuses to advanced search?
  Add Project, Museum?
  Valid fossil and valid extant do not work on search page because specimen table doesn't have fossil column. Denormalize?
    Also typed doesn't work.
    Homonym should be removed from list. Specimen are never loaded as this.

Look at login persistence. Cookies.

Add Family to advanced search. See: Subfamily.
  Remove the validAntSubfamily check from AdvancedSearchResults.getSubfamilyList()?  Really? Why?

  handling black genus, species and subfamily
  (sp.) -> indet manual replace won't work.

Museum work. Highlight curators. Make dynamic. Talk w/ Brian.

Add an Integrity Check for taxon_props with a prop value of "null".
  select * from taxon_prop where prop = "null";

Common names in Antweb

`* pending: add subregion and region to the specimen table so they can be used in the specimen api addExtraGeolocaleListCriteria()

Get introduced correct?

Admin tasks
  Testing framework at deployment.
  Data flow to api server.
  automatically launch apiCheck.py. Check logs.
  Server validation. Database backups, disk free. Scheduler completion. Successful tests.

Join specimen to geolocale_taxa. Use Geolocale name only.

Configure the imageCheck.py to run from the scheduler. Catch them in the act.

Get subcaste during java process. Deleate/alate and ergatroid?
  Store in a subcaste field
  Expose in api. Operation parameter for subcaste.
  Wait to hear from brian about details

Some ants only have headshots.
  Preparation SEM or fossil.

Jay Mollica. Meet up at Academy of Art
  Advice/thoughts on api, visualization work.

Fixing introduced
Make Hawaii a country
  In specimen upload allow usa / hawaii
How to map full search results?
  From Advanced Search when hitting Map Results go directly from search results, instead of page results.
  Directly to: http://localhost/antweb/mapResults.do

Error messages handled poorly here: https://www.antweb.org/getSearchList.do  https://www.antweb.org/getSearchList.do

Why is this called. Why so slow?
  https://www.antweb.org/taxonomicPage.do?rank=species&imag&statusSet=all&specimen=true&subregionName=Antarctica_subregion

On species page, in distribution, only list countries.

// Why is this munged: https://www.antweb.org/getSearchList.do

This task should be run periodically. It takes a long time to run. I think somewhat redundant.
  https://www.antweb.org/utilData.do?action=updateGeolocaleCounts

API possibility? See email: Fwd: abcd

Question Rafael's
  How much data from Purtorico
  Data set small.
Return recentImages to image
Create geolocale_taxon json alternative:
  https://www.antweb.org/speciesListDownload.do?countryName=Comoros
Taxon

To do:
  Rafael: indicate endemic/introduced species by geo-region  (for example, as shown in the summary here: https://www.antweb.org/adm1.do?name=California&country=United+States)?


Add to scheduler the deletion of specimen based taxa with no specimen...
	select taxon_name, source, created speciesgroup from taxon where rank in ('species', 'subspecies') and source not like "%ants" and taxon_name not in (select distinct taxon_name from specimen) and taxon_name not in (select distinct taxon_name from proj_taxon where project_name != "allantwebants") and taxon_name not in (select distinct taxon_name from geolocale_taxon) order by source desc, created desc;
	+-------------------------------------------+---------------+---------------------+
	| taxon_name                                | source        | speciesgroup        |
	+-------------------------------------------+---------------+---------------------+
	| myrmicinaestrumigenys brevicornis_complex | specimen2.txt | 2014-02-17 15:13:58 |
	| myrmicinaepheidole jtl113                 | specimen2.txt | 2014-02-17 14:14:19 |
	| myrmicinaehylomyrma jtl001                | specimen2.txt | 2014-02-17 14:14:14 |
	| myrmicinaehylomyrma jtl002                | specimen2.txt | 2014-02-17 14:14:14 |
	+-------------------------------------------+---------------+---------------------+
	4 rows in set (0.70 sec)

Dec 21
  Get rid of old species group values in taxon table.


Find the missing 10 records in this upload...
  https://www.antweb.org/web/log/upload/20171208-15:50:09-CASSpecimenList.html


API
  Recent images code should be specimenCode. (Was catalog number)
  For each country the number of endemic and introduced, and total.

Needs to be added to source tree, or something. Live site has the current best...
   /home/antweb/links/webroot/api/v2/include/antweb/antweb.php


populateMuseum is called from the scheduler but not individual one's after specimen upload.
How to ascertain which one to run? Like this:
  https://www.antweb.org/utilData.do?action=populateMuseum&code=ABS
...with the proper code after specimen upload. SpecimenUploadFull.java:185
There is session.getAttribute("museumMap") and museumCalc in UploadAction.java:316.
We build the MuseumMap in AntwebUpload.saveSpecimen();
  Save it in uploadDetails. Session.
  MuseumMap seems to be set in session but is not found when needed. Where utilized?
UploadDetails.java:197 does not work. MuseumMap is null at report time. Hmmm.
There are two links to it in the admin section of the Overview page for a museum.
Also here: https://www.antweb.org/museum.do?museumCode=ABS&action=recalc
Create catch all log file for the upload process.
Should be one consolidated, shared, logic. UtilData just a means of invocation.

Do these dissappear after scheduled tasks? (After having deleted Papua New Guinea (indet) species).
Why are these not cleaned up during scheduled tasks?
  select taxon_name, geolocale_id,created, source from geolocale_taxon where taxon_name like '%(indet)%';

  Valid taxa found in invalid adm1. Should have been swapped for valid.
    https://www.antweb.org/description.do?genus=anochetus&species=talpa&rank=species

Low Priority
  https://www.antweb.org/advancedSearch.do?org.apache.struts.taglib.html.TOKEN=9a47f56da9ad55ed379e13c4b02196e1&searchMethod=advancedSearch&advanced=true&collGroupOpen=none&specGroupOpen=&geoGroupOpen=none&typeGroupOpen=none&searchType=contains&name=&subfamilySearchType=contains&subfamily=&genusSearchType=contains&genus=&speciesSearchType=contains&species=&subspeciesSearchType=contains&subspecies=&bioregion=&country=&adm1=&adm2SearchType=contains&adm2=&localityNameSearchType=contains&localityName=&localityCodeSearchType=contains&localityCode=&habitatSearchType=contains&habitat=&elevationSearchType=greaterThanOrEqual&elevation=&methodSearchType=contains&method=&microhabitatSearchType=equals&microhabitat=&collectedBySearchType=equals&collectedBy=&collectionCodeSearchType=contains&collectionCode=&dateCollectedSearchType=greaterThanOrEqual&dateCollected=&specimenCodeSearchType=contains&specimenCode=&locatedAtSearchType=contains&locatedAt=&casteSearchType=contains&caste=&mediumSearchType=contains&medium=&specimenNotesSearchType=equals&specimenNotes=&ownedBySearchType=equals&ownedBy=UTIC&createdSearchType=equals&created=&groupName=&type=&types=off&statusSet=all&images=off&resultRank=specimen&x=33&y=17


(1) Bioregions:  Looking at the Nearctic list, there are a few genera (Apterostigma, Procryptocerus, Sericomyrmex, Tatuidris)
that should not be on the list and there are no specimens from the Nearctic. I think names get on the list if there is a
specimen but names don't get off the list when the specimen is no longer there.  I think the bad names were added when there
was at one time an erroneously tagged specimen with Nearctic in the bioregion field but have now been fixed.
    So it seems we don't have a clear path for getting names on and off the bioregion lists.

I am looking closely at the geolocal records that have source=AntWeb specimen.
For a given geolocal, source=AntWeb specimen should only be true if there is actually a specimen from that locality.
However, it appears that  source=AntWeb specimen is true for every taxon if it has a specimen in AntWeb from anywhere in the world.
And Example is  https://www.antweb.org/taxonomicPage.do?rank=species&adm1Name=Missouri&countryName=United%20States
to get an idea of what should be correct, just click on edit species list and see which names have a yellow icon.
This seems quite a serious issue and we should talk about how to go forward.
1st item (fulva) on:
  https://www.antweb.org/taxonomicPage.do?rank=species&adm1Name=Missouri&countryName=United%20States

Species list
  Georgias.

  alter table taxon drop column default_specimen;

  Names work. One step at a time.
    1. specimen. Update source. Override everything.
    2. Within usa adm1, blanks = curator. (except Georgia).
    3. Antwiki. Reflagged from old data. (Don't mess with madagascar).

  For adm1 in the USA, all of the blanks are source:curator if there are no specimen.

  Would be good to flag as antwiki the geolocale_taxon records with null where the country is...
    select geolocale_id, taxon_name from geolocale_taxon where source is null and taxon_name in (select taxon_name from antwiki_valid_taxa);

  1. "Antweb Specimen" should trump all other "Sources" in geolocale_taxon, during specimenUpload.
    Test is in the California list, is Camponotus ca01 source="Antweb specimen" after PS Ward upload.
  2. Antwiki. Regional species list.
  3. Nulls outstanding.

  Save the Groups.upload_specimens field at the end of specimen upload.

Species list:  Thinking about California again, since Antwiki did not have data on California,
  the only three options for the source would be specimen data or curator (new species list tool)
  or oldspecies list.  But since we have specimens for most of them,
  I am curious why "Specimen" is not showing up for those.  I think I found one without a specimen.

 caste used for image display

  See about create googleMaps.js with bounds in case where centroid doesn't work.
  Europa Island, Glorioso Islands, Juan de nova?

 All source = null geolocale_taxon records seem to be antwiki. Those are the ones with
   ambigous places. They were all inserted via insertGeolcoleTaxon. They should be "antWiki" source.
   We could delete them.

Data Cleanup
How to delete Western from
  https://www.antweb.org/description.do?genus=lepisiota&species=canescens&rank=species
  How did they get there?
  Papua New Guinea - Wester - could we make the list live and then edit it?

  Various extra project records not gone.
    select distinct project_name, source, max(created) from proj_taxon group by project_name order by created desc;
How did this record get here?
  select g.name, gt.* from geolocale_taxon gt, geolocale g where gt.geolocale_id = g.id and taxon_name = "formicinaelepisiota canescens" and geolocale_id = 452;
  This record should not be here. Antwiki? adm1Specimen=source.
  How do we find the others? Not found here:
    select code, taxon_name, country, adm1 from specimen where taxon_name = "formicinaelepisiota canescens" order by adm1;

Look into Admin updates? GoogleApiFetches OK?
Debugging pass. In logs.
Plazi data UTF8 issues?
Specimen upload for field museum. IPT.
  Not highest priority.
Debug the specimen reload on live site.
  Monthly scheduler. Run 1 task per night.
http://localhost/antweb/speciesListTool.do?refSpeciesListType=geoSearch&refSpeciesListName=null&mapSpeciesList2Name=none&mapSpeciesList3Name=null&mapSpeciesList1Name=none&go=go
  Why is http://localhost/antweb/browse.do?genus=aphaenogaster&species=rhaphidiiceps&rank=species
    Showing up if I do a geo search on Afrotropical / Comoros?
http://localhost/antweb/bioregionCountryList.do
  Refactor query. If there are alternate bioregions, display all adm1.
Store taxonProps in an API accessible way.
Persist the native bioregion for the specimen?

So we need a third category for status:  we can use Distribution status: "unknown" for these cases or even better "possibly introduced"

4)  The introduced species for a geolocal are not all indicated with the red "i"  I see that some are but not all.
Also, I wonder if you could make a link to "introduced" on the overview page with the others summary stats.
I know you love working on the summary stats so I am sure you will like this request: : )

eg: https://www.antweb.org/country.do?name=Comoros
Subfamilies: 7
Genera: 40
Species/Subspecies: 106
  Endemic: 4
*  Introduced:
Imaged Specimens: 241

ps 5)  If you have time, could you remind me about updating a species list like "Introduced"
I wanted to add species to the list from Mauritius, Seychelles and Hawaii but it appears I can't add a second comparison list.
I wonder if that is because it is not a geolocale so it doesn't work.

Integrity stuff to come to
  Subfamily counts for adm1 that are not valid and live.
  "Antweb Specimen" showing up on taxonomic pages. Species list pages.
  g api.
  Integrity checks.
  Non-valid names with no specimens. still on country lists. During specimen upload.


    Endemic - a subclass of native? (For Brian to figure).
      Means that it is only found there in the world. What ants are only found in the Comoros.
        Could be by and geolocale (bioregion, country, adm1). (Mountain).

There is an endemic flag in proj_taxon (came from Antwiki?)
  For instance, myrmicinaemonomorium latinode. These are not showing up on the Introduced Project.
    http://localhost/antweb/taxonomicPage.do?rank=species&project=introducedants


Create documentation page for Distribution Status

Cerapachys should not be in Malagasy or Afrotropics or Neotropical or Nearctic, or Australia
But I think your plan was to use current distribution to fill the table and then I would unclick those regions that are not part of the native distribution or are in error.
otherwise, I am not sure how you would know Cerapachys is not in those regions.
does the species tool work again?

Genera Distribution Tool to map genera to allowed bioregions. Warn in specimen upload process of violations.

zero subfamily stat for adm1s.


Kosovo. Children of Kosovo fail.
No Map on public page
  https://www.antweb.org/country.do?name=Kosovo
  No map for French Southern Territories or it's children. Or children's children.
  http://localhost/antweb/country.do?name=French+Southern+Territories
    https://www.antweb.org/country.do?name=Europa+Island
      http://localhost/antweb/adm1.do?id=5182
    http://localhost/antweb/adm1.do?id=283  Juan de Nova Island

checking for synonyms in AntCat - yoy. Record each data check being done and report a "passed data quality check) if there are no errors to report.
  In this way, the uploader gets to see the list of checks that were conducted.

Email follow up
  Feb 21.    nonvalidValidNames email. Fix.

  Feb 20, 2017 1:57pm.
	  I have one question regarding how we report invalid adm1s. such as on the last CAS specimen upload:
	  2: Not valid Antweb Adm1 (total:3): Provence-AlpesCôte d'Azur, Semenawi K'eyih Bahri, Ulyanovsk
	  Since the last two are recognized and have a valid adm1, there is no reason to correct them.  The first one does need to be corrected since it is a typo.
	  I think we should only report unrecognized adm1s, that is adm1s with no known valid adm1.
	  I actually thought we were only reporting adm1s that were not linked to a valid adm1, so I am a bit confused why these two are being reported and not others.
	  https://www.antweb.org/adm1Mgr.do?adm1Name=Semenawi+K%27eyih+Bahri&countryName=Eritrea&groupId=1

Follow up on Cyclades: http://antweb.org/editGeolocale.do?id=1675

None + Other for validnames set on taxa that are not valid.
  change the way "none" is indicated for those that still have a link to a valid.
  The example for this issue is in Greece: Cyclades	specimen	Kríti
  http://antweb-dev/adm1Mgr.do?adm1Name=Cyclades&countryName=Greece

Report on the casent vs casent -Dxx that have different taxa.

Prevent bad single quote submission in adm1Mgr, geolocaleMgr and Geonet fetch.

Can we test on bounding boxes whenever a match, even if not valid.
  Morocco has switched adm1.
  583 is North Island, New Zealand. It is not valid but does have bounding box. Check it.
    casent0618830 Utah #2.

Why didn't adm1:8639 get populated with bounds from google maps.
  How is the Google Apis fetch going.

Feb 10 countries with missing centroid bounding box


See if I did this right. Jan 16th. Get geonet centroids
  Adm1s, only if not empty or contains "null". Where source = "Geonet"
  Get Geonet centroids... X, Y.
  http://geonames.nga.mil/arcgis/rest/services/Research/GeoNames/MapServer/0/query?where=FEATURE_DESIGNATION_CODE+%3D+%27ADM1%27+and+NAME_TYPE_CODE+%3D+%27N%27+&text=&objectIds=&time=&geometry=&geometryType=esriGeometryEnvelope&inSR=&spatialRel=esriSpatialRelIntersects&relationParam=&outFields=FEATURE_COUNTRY_CODE%2C+FEATURE_COUNTRY_NAME%2C+NAME%2C+PRIMARY_ADMIN_DIVISION&returnGeometry=true&returnTrueCurves=false&maxAllowableOffset=&geometryPrecision=6&outSR=&returnIdsOnly=false&returnCountOnly=false&orderByFields=&groupByFieldsForStatistics=&outStatistics=&returnZ=false&returnM=false&gdbVersion=&returnDistinctValues=false&resultOffset=&resultRecordCount=&f=html

Read about BFisher Deployed sent Jan 23 for next steps. Introduced, etc...

Fiji issue.
Default specimen back?
As the study of emotions with an eye on presence reveals essence, the study of energy with an eye on presence reveals the aspects of flow. Generosity, acceptance, renunciation, blessing, steadfastness, forgiveness, nourishment, etc... true nature when it's doing. Is it the flowing of essence that we really love about it?

Compare to functionality is using cookies. So we go to the multiview page.  Fix.
Recompute working?
Child counts back?

  Delete all specimen source adm1. (wait). Sure?
  Delete data from specimen table where not validated?

  Add to queries.
	  select name from geolocale where georank = "adm1" and source = "specimen" and name not in (select distinct adm1 from specimen);


On the Adm1 Manager, I will recommend that the curator update specimen records to refer to a valid adm1.
We could also support the curator in the creation of an invalid adm1 record with a validName selected of their choice.
The Geolocale Manager can do this - is exposing this functionality to curators desirable?


Implement rollback for geo fetch methods.

AntWiki updated all their files but I did not see an admin alert in this regard.   http://www.antwiki.org/wiki/Species_Accounts

Fix the compare tool
  Nov 30th email: Fwd: AntWeb questions

Exclude non-vetted specimen in api?

  Bric countres
    Geolocale mgr. isLive, isValid, and valid_name may be selected and submitted in bulk.

Verify:
  https://www.antweb.org/specimen.do?code=psw13798
  https://www.antweb.org/specimen.do?code=anic32-059529

Get the other adm1s checked during specimen upload.
Get rid of reboot
Get Geonames
Country fix for antwiki.
For myrmicinaemessor incisus we should be specifying worldants as the source instead of antweb
  Antwiki data upload to set up
  Set up an alert?

Verify:
  https://www.antweb.org/specimen.do?code=psw13798
  https://www.antweb.org/specimen.do?code=anic32-059529


From Brian (Nov 12, Alberta and BC)
For a very long time we had species lists for BC and Alberta but then they were lost (I guess when we moved to Georegions?).  I now have made all the Canada provinces live but the BC and Alberta species lists are gone
Alberta used to have about 93 species and BC around 58 species.
I also made the species lists for India provinces live too.
Also on the overview page of BC:  https://www.antweb.org/adm1.do?name=British%20Columbia
I can't seem to get rid of the bad character ?  in the first sentence of the overview. it reads;
British Columbia is Canada?s westernmost province.
but should read
British Columbia is Canada's westernmost province.

Get rid of reboot
See LocalityOverview for Bounding Box business.


Get the other adm1s checked during specimen upload.
Get rid of reboot
Get Geonames
Country fix for antwiki.
For myrmicinaemessor incisus we should be specifying worldants as the source instead of antweb
  Antwiki data upload to set up
  Set up an alert?

Integrity queries. Clean up. Taxon names have gotten in from worldants with single quotes that I should prevent, etc...
Add to appropriate species lists valid ants that have specimen flagged in various
  countries and adm1 (that do not have existing dispute records).
Remove Non-Formicidae taxa were showing up on the species list Tool.

Remove proj_taxon records that are not related to projects.
Can remove Taxon.hasImages()?
Optimize:
  select sp.decimal_longitude, sp.decimal_latitude, sp.code, sp.taxon_name, sp.genus, sp.species, sp.subspecies  from specimen as sp, geolocale_taxon where N=N  and geolocale_taxon.taxon_name = sp.taxon_name and sp.subfamily= 'S' and sp.genus= 'S' and sp.species= 'S' and sp.subspecies= 'S' and sp.decimal_longitude is not null and sp.decimal_latitude is not null and geolocale_taxon.geolocale_id = N order by SECOND(sp.created) limit N
We could add more options to the change view selector.  On this page, could have fossilants:
  https://www.antweb.org/browse.do?genus=titanomyrma&species=gigantea&rank=species&project=allantwebants

Known issues:
  Redeploy the caching system
  Refinements of Property reloading so that it is seemless to the curator.  For instance:
    Cause the recalc methods to repopulate and display.  See: http://localhost/antweb/country.do?name=Comoros
  A help page with all the options and explanations of how to best comply with character encoding of file uploads.
    Deploy the encoding selector.
  Test TaxaFromSeach mapResults/tools?
  Performance/design issue described at Genus.java:173
  Why did this upload not work? - Schar
    https://www.antweb.org/web/log/upload/20160623-15:15:05-42SpecimenList.html
  Antwiki data for endemic species data

Test methods:
  select g.name, g.endemic_species_count, p.endemic_species_count from geolocale g, project p where p.geolocale_id = g.id;
  select g.name, g.extent, p.extent, g.map, p.map, g.coords, p.coords from geolocale g, project p where p.geolocale_id = g.id;
  select g.name, g.specimenImage1, p.specimenImage1 from geolocale g, project p where p.geolocale_id = g.id;


setTaxonomicInfo modified.  May need more project oriented inspection.
Calculation of Allantwebants - is not a project.  It's freom geolocale data!
  AllAntwebCrawl counts - must be different, no?
./src/org/calacademy/antweb/search/FieldGuideAction.java
	fieldGuide.setProject(project);
	fieldGuide.setMembers(connection, project);
./src/org/calacademy/antweb/search/TaxaFromSearchAction.java
    theTaxon.setBrowserParams(theParams);
    SetImages(project)

maps and charts for USA (and others).
after you add a species to a list, after save, you don't get a report that a species was saved as you do when a species is removed

Fix Search download.
  Jun 20 email subject: 	download data not working
  That there is a bug in reporting the correct location of the file.  Here is the file:
     http://antweb.org/web/data/search/2016-06-20%2009%3A53%3A46search.txt

Fix Georgia in species list tool

Pending...
  Attribution issue

AntwikiTaxonData work.

PNG support

email: microhabitat missing from advanced search
Email: link to geolocal
Fix Field Guides and Image Picker

There is a context in which the nav items are not linked as I would like.  As you point out, I think it is on the overview page of a taxon,
    http://localhost/antweb/description.do?subfamily=myrmicinae&genus=nesomyrmex&rank=genus&countryName=Madagascar

multiple adm1s?  Mato Grasso do Sul?

Get states of India working.  SpecimenUpload verify bioregion for adm1.  use_children.

---Find home in museum table for these future museums.
AMNH	American Museum of Natural History, New York, NY, USA
ANIC	Australian National Insect Collection, CSIRO, Canberra, Australia
CUIC	Cornell University Insect Collection, Ithaca, NY, USA
LACM	Natural History Museum of Los Angeles County, Los Angeles, CA, USA
MNHN	Muséum National d’Histoire Naturelle, Paris, France
MRAC	Musée Royal de l’Afrique Centrale, Tervuren, Belgium
NMKE	National Museums of Kenya, Nairobi, Kenya
NMWN	National Museum of Namibia, Windhoek, Namibia
SAMC	South African Museum, Cape Town, South Africa
UCRC	Entomology Research Museum, University of California at Riverside, CA, USA
ZMAS	Zoological Institute, Russian Academy of Science, St. Petersburg, Russia
ZMUC	University of Copenhagen, Zoological Museum, Copenhagen, Denmark


Test field guides.

Why no map?  Maybe delete link?  Other overviews don't have the Map link.
  http://localhost/antweb/bigMap.do?taxonName=formicinaeanoplolepis%20nuptialis&regionName=Africa

motorcycle donation
800 304.8983


Brenda.  UCSF. 866.433.
  ref # 40371328



  bioregion check in specimen upload.  Mexico must be in Nearctic or Neotropical, etc...
    for validation: the issue is that some countries: Indonesia, Mexico, China, a few in Africa, may have two bioregions possible.  So for some we would have to see if they had one or the other, but for most countries, there would be just one.  And if they didn't, AntWeb should replace their Bioregion with the correct one.  Currently, in Geolocal, you can only add one Bioregion to a country.

  Bioregion and museum UI component and context for browse.
    (1) I want to see all the species in genus Stigmatomma
    (2) I want to see all genera for subfamily Amblyoponinae
    (3) I want to see all species

  The Geolocale work.

Task List.
  Museum
    Add a pie chart showing "Species per Bioregion. First pie chart for Museums.
      this will highlight the differences of where the ants in a particular collection are from.
    Specimen collection date distribution timeline.
  Fix numbers. Madagascar species/subspecies: 1300 but in taxa list 1296
  Remove specimens count from overview page, or attempt a proper calculation.
    Seems like it would be good info?  For now it has been removed from display.
  Should calculate only for valids on overview page.  Change copy to specify.
  Flesh out Calc/Crawl strategy.  Document.
    Image count crawl may need to be invoked after worldants upload.
      Currently it is invoked ... ?  Manually, and...
    Museum regenerated after upload.  Automated and/or invoked by admin.  Curator option?
    Other Geolocales?
  Document mapping 1-1 geolocale to project.  Technical changes?
  fix the staff page issue.
  manageLogins.do
    LoginId on manageLogins page half-measure.
    remove the count, and give the header; login ID and Key and then list below like a table
  Display georegion needs more data, ordering?  GeolocaleMgrStats.do
    a list of the all countries, regions bioeregions adm1 with all these stats and you could
    sort on them to rank by example the greatest number of subfamilies, endemic genera etc.
  Make endemic (and endemic_percent) for all ranks and all overview types.
  Integration of Josh's UI.
  Adm1
    Make sure that a specimen like: https://www.antweb.org/specimen.do?name=casent0625424
      which has adm1: Galapagos matches up without our (invalid) Galapagos listed as country.
    Make Locality page hyperlink to country and adm1.
  Testing/Debugging of certain geolocales.
    diacritics, spaces, and duplicated names.
    Currently it seems the counts are not working for duplicated names.  For list, see:
      https://antweb.org/util.do?action=curiousQuery&name=duplicatedGeolocaleNames

	Galapagos -> Galapagos Islands
	  GeolocaleDb.getGeolocales order by hack to get countries listed first so that Galapagos country is found instead of Galapagos adm1.
	Georgia US, Georgia Russia
	  georgiaants and georgiausaants
	Saint Vincent island and Saint Vincent and the Grenadines
	  Email from Sun, Oct 18, 2015 at 11:55 AM
	  There are two projects: saintvincentandthegrenadinesants and st.vincentants
	  No.  St.Vincent is a invalid pointing to st.vincent and the grenadines.
	Mexico country and Mexico adm1.
	  mexicoants and mexicomexicoants

  Get rid of GeolocaleDB hack? We order the list by valids and invalids.  Confusing to UI.
    Document the funkiness of Galapogos.  During SpecimenUpload, searching for a adm1 will preferentially return
      a country.  The GeolocaleMgr.getRegions is ordered with valid countries first to enable this.  Sketchy.
    Ordering the species List Tool correctly?

  Link the UN offical list of countries and regions:
    UN List: http://unstats.un.org/unsd/methods/m49/m49regin.htm
  Official list for admin 1 that could be used to check spelling
    source of ADM1 "statoids" http://www.statoids.com/wab.html

  Specimen validation
    In addition to country level bioregion testing, test on Adm1.  Perhaps just for exceptions like Hawaii.
    Test for mismatches between the recorded country and country of plotted lat. long, records that fall into the ocean,
      and eventually outlier detection as suggested in attachment of email thread: Re: Release 6.4.6, Apr 30 2016.




Known Outstanding Issues
------------------------------------
No Canary Islands project or geolocale.
We need to move some coords and other properties from invalid geolocales to valid ones.
Map/image display largely untested on geolocale and project pages.
Add Galapagos invalid geolocale

IsIntroduced.  Currently from antwiki data.  Could be from active data (proj_taxon, project and specimen:
  select s.code, s.country from proj_taxon pt, specimen s, project p where p.project_name = pt.project_name and pt.taxon_name = s.taxon_name and s.country = p.project_title and pt.is_introduced = 1;
  Waiting for adm1 functionality.

Remove similar_species functionality
Finish removal of country table/code.

State Farm
Mark 844.292.8615 x434 872 2673# c#557F11453
Jera              x434 872 6184

Marlin ucsf.  Up to 4:30.
 415.514.8247

statefarmclaims@statefarm.com
subject: 557F11453

mysfest@statefarm.com
policy#: 55-2541B99

  To do.
  Work out what curators without groups (accessGroup == null) can do on the curate page.
  Investigate geonames

Document and augment the additions to geolocale.
Finish the antwiki country list.
Adm work
North America/South America valid regions.
  Change geolocaleMgr.getProjectNameFromCountry -> FromGeolocale

In Regional Taxon upload, create species (indet) record if it does not already exist.

Turn off reload (waiting for fossil).

  Reload list should not reload species list mappable lists.
    why only madagascar messed up?

Detail
  Set the is_live flags proper.  All existing projects.

  Verify homonym mirroring taxa.  Where are they?
  AntwebUpload:281 without genus check exception without rollback.
  https://www.antweb.org/description.do?genus=myrmica&species=martini&rank=species&project=allantwebants
    Line numbers from species and specimen files.  Should be line 1532, not 183344, of worldants file.

  On hold.  Antcat automation.
    Automate the refreshing of antcat data.

To do:
  Consolidate setStatusAndCurrentValidName in AntwebUpload and SpecimenUpload methods.
  Cookies to stay logged in?

Countries.
  Palestinian territory (in data) -> Palestine
  USA, U.S.A., or United States of America -> United States
  Pull down in Geo Search has United States.
  The Islands.  Synonyms.
  Uploaded as field.  Original_country, original_adm1 in specimen data.
  Table (was UN_country) with isUn, with currentValidName.
  Ivory Coast.  Couat de voire.
  Cameroon.
  Malagasy summarized from countries within.
  Get rid of malagasy upload and make it an aggregation of malagasy species lists.
    Get rid of malagasy list.  Sum up from subregions.
    Link to it.
  * Valid species with recognized country will automatically update the appropriate species list.

Shutting off taxa creation.  And all species lists -> mappable.

Finish the MoveToValid tool.

Who keeps creating (formicidae)(formicidae)?  Specimen1.  Fix?

Alphebetize and order the upload reports.
Do not allow an update of source = "worldants.txt" in specimenUpload

Why for FM upload do we get:
  handleWorldAntsSpeciesCheck() Specimen Upload no longer uses handleWorlAntsSpeciesCheck

Why are some specimen upload taxa without insert_method.  See:
  https://www.antweb.org/description.do?genus=sceliphron&species=caementarium&rank=species&project=allantwebants

Remove species list home page generation tech.

Snort these in.  Validate.  Validate current valid names.
http://www.antwiki.org/wiki/Species_Accounts
  Species
    List of valid species (names in use) (tab-delimited text) (Date: 2015-06-25)
    List of invalid species (names not in use) (tab-delimited text) (Date: 2015-06-25)

Verify usesCurrentValidName uses.  Not calling passWorldants...?

See: fmnhins0000121927  Genus link points to homonym.  Should create a dummy taxon instead.
  AntwebUpload:316.  Should check for homonym.  Get code reuse.

Why no AntwebUpload activity for acantholepsis?
UploadDb - insertGenus() cant's insert.  Genus already exists:(formicidae)(formicidae)
Where is genus (formicidae)(formicidae)?
(formicidae) should list as children the genus (formicidae)(formicidae)?  It doesn't, and I can't reference it this way... https://www.antweb.org/description.do?taxonName=(formicidae)(formicidae)
or this way... https://www.antweb.org/description.do?genus=(formicidae)&subfamily=(formicidae)&rank=genus&project=allantwebants

Extend AntwebUpload.isValidSubfamilyForGenus to check Homonym in case of false.

Modify Upload report.
  Include counts.  Order the sections.  On specimen report display created.  Sort by.
    Some way for curators to see their specimen.

The right taxonomic info?
  https://www.antweb.org/description.do?genus=pheidole&species=megacephala&subspecies=angulata&rank=subspecies&project=allantwebants

Fox Worldants line numbers. 16681 claims to be 30548.

Worldants has other types?

After new worldants.  Check on:
  UU.  Marked as subspecies?  Does it have a subspecies field?  See Also should not include current valid name.
    http://localhost/antweb/description.do?genus=echinopla&species=senilis&subspecies=&rank=subspecies&project=allantwebants
  Quadronomials. Should lead to:  Crematogaster buchneri winkleri transversiruginota
    http://localhost/antweb/description.do?taxonName=myrmicinaecrematogaster%20buchneri%20winkleri%20transversiruginota
    http://localhost/antweb/description.do?genus=camponotus&species=punctulatus&subspecies=termitarius%20leucozona&rank=subspecies&project=allantwebants  No question marks in names:
    http://localhost/antweb/description.do?genus=pachycondyla&species=?&rank=species&project=allantwebants

Handle cases where current valid names have current valid names?
  Add images specimen and map to taxa derived from specimen records.
?Species List Tool  |  Show Specimen Taxa  added to images page?
Fetch countries from UN list.  Check in Project.isCountry().  Only display "Species List Tool | Show Speciemn From Taxa" if isCountry().
  Better yet.  Replace with project.getMappable().  Project object not stored in session.  Just name.  Dumb.
Was there a compare results action item that I skipped?

To do
  Status.hasCurrentValidName().  Anything with a current valid...
    Add Synonym to this?  !!!
    Find full list.
  Plazi.  Post process.
  Post specimen upload process (before count crawls) to check taxonNames, and if current valid name found,
    insert taxonName as uploadTaxonName and insert currentValid as taxonName.
    Adjust specimen table taxa hierarchy as well.
    Report in specimen upload file that changes were made.
      Taxonnames that need to be updated -> Taxon names were updated"
  Prevent create of description edit on taxon that has a current valid name.


Make status link to the description of status page.

Google test site mobile ready

To Do
  Get rid of malagasyants.txt source taxa.
    Region handling.  link in drop down.  Automatic or manual.
  get data from Joe.  Get all names into Antcat (homonyms).
    Acantholepsis h exists but not t.  Integrity report.  Ordering nixed?
    Automate World ants upload

  How to more fully roll out the Species List Tool? ...

Review 2015 Goals
----------
Plazi and species list tool are on track.  That said I wont to go ahead with my plans for 2015. Here are the three goals for 2015 (in addition to are unfinished business from 2014).
(1) Create pages for each "Museum" to highlight the specimens and images on Antweb from the major Ant Collections around the world.  The goal is to give face to the museum and also encourage others to participate in Antweb.
(2) Create a page that provides graphs/pie charts on AntWeb contributions by Museum, person, type of content etc.
(3) Add a Donate button to Antweb, mimicking the way Wikipedia does it.


Homonyms
  Unresolved homonyms.  No ones gotten around to creating name.
  Senior homonym keeps it's name.  Valid according to Antcat and not mentioned as a homonym.  What I was calling master.
  Junior has to get a new name or it is invalid
    These can be unresolved.  Without a valid name.
    Find the unresolved junior homonyms.  Brian can write a paper to fix this.

* We need a new field from antcat SeniorHomonym for junior homonyms




Slide show should not show a synonym like cerapachynae 
Cross site scripting white list
   
Hide implementation of taxon_name
  inae or incertae_setis    
  Capitalize Genus and up.  
  In See Also.  Modify on upload reports.  Orphan reports.
Geogarphical Distribution in Search
  (In Decimal Degrees)  Latitude:  Longitude:  Radius: (in Kilometers)
Minor bug fixes 
  Why a comma after See Also here: http://localhost/antweb/description.do?genus=pheidole&species=pulchella_nr&rank=species&project=allantwebants
  Why not display author correctly here: http://localhost/antweb/description.do?genus=leptogenys&species=peuqueti&rank=species&project=worldants    
  
  
Priority
  1. Validate names
    Status.  
    Manage Quadrinomial
      Add an icon to taxa page.  
      q icon
  2. Countries and Species list tool 

Plazi - Darwin Core
Advanced Search with lat long proximity search (perhaps using API)
Species List UI Tool
Create a separate DB for read-only
Homonyms inserted into homoynym table instead of taxon table.
Change taxonname.  Space in between subfmamily and genus, capitalaization.
  Test valid in search.  See ~/dev/calAcademy/antweb/src/org/calacademy/antweb/search/GenericSearchResults.java:81
Fix Description Edit Orphan Manager
Make sure Compare Images and Field Guides is accessible where appropriate on project pages
RDF redirect for antweb stable identifiers. Apr 1 bfisher email.
donation to Antweb not working. Move to Amazon donation or Google - https://payments.amazon.com/business/asp
figured out the business with fossils and introducedants
change the species list upload report copy.
Statuses to advanced search
Make download species list have subspecies
upload species list time - comoros
See Also: taxon link list
  Include hyperlinks to subspecies of a species, sibling subspecies to a subspecies, [taxon_name]_cf and [taxon_name]_nr
  on Overview page for a taxon, below taxonomic info
add author date html as a tool tip or link to antcat page.
fix countInsertedSpecies <- search on, in UploadDetails.
Similar_species is defunct.  Remove.
Should we handle multiple access means such as:
  http://localhost/antweb/description.do?genus=pheidole&species=pubiventris&subspecies=foederalis&rank=subspecies  
  http://localhost/antweb/description.do?genus=pheidole&species=pubiventris foederalis&rank=species
specimen1 inserted: diaspidinaemorganella conspicua but no genera:morganella 
   select taxon_name, source, created from taxon where genus = "morganella";
India list, elmesi has a non ascii space at the end.  To fix.
Test Steve's upload to have proper species name without quotes for specimen code: jdm32-004941
  Block single quote upload.
http://antweb-dev/browse.do?rank=species&name=grandidieri&genus=anochetus&project=madants&sortBy=collection&t=
  Sorted by image counts, does not  
Do we realiably create indets if fields are null?
  
Throw error on fields that won't parse.  Try to parse as is done in specimen.xml at
  upload time to catch error early (in SpecimenUpload).  Line 259 specimenUpload.
  See Peter Hawkes upload circa Dec 11
Check all input values for extra quotes.  Strip.  Especially taxonname in species list.
RDF work.
Antcat
  AuthorAndDate and authorAndDateCitation fields.  Display in list view tacked on to the taxonname (not bold)  
  if Taxon is invalid (valid, invalid, null) then have a valid_taxon_name field with the proper name  
GenAll does not seem to generate recent images.  Also, if workingdir doesn't have speciesLists, not reloaded?
small jpegs issue (Sep 9 emails) updating reuploaded images small jpegs
Specimen List Tool 
  (3) For all list of species (eg:  http://www.antweb.org/browse.do?name=tanipone&rank=genus&project=allantwebants)  did you ever notice why there is a large blank space after the species name?  Because that is where we want the Author and Date of the species. 
Is there anyway to have for all species lists, the author and date to show up after the species name.
* See: ~/dev/calAcademy/antweb/web/taxonReport.jsp
  (4)  Have you looked at a recent CAS specimen data upload log: http://www.antweb.org/web/log/upload/20131023-15:27:59-CASSpecimenUpload.html
We have a growing problem of taxon names that are not valid.  The list is huge and growing.  FMNH has the same problem. The only way we can deal with this is to (a) start importing all names from AntCat (b) and use the status fields in the AntCat upload to figure out the current valid name of those taxa on the upload log.  Thus, we need the upload report to return the current valid name for taxa (when possible) so the user can then update their records.
If we can do (4) - it will be a MAJOR breakthrough in curation management for AntWeb and is really the only way we can expand antweb without go crazy updating names by hand.  If my lab can't keep up with the names, how can we expect a small lab like in India to keep up to date.  





Older:

  Have region pages have a published flag
  Caching work.  Make sure that field guides, taxons with spaces are fetched correctly.  Echo changes (getCache and bots) through other cache types.
  Look into Download, compare, map and field guide on browse page
  Favorites functionality (pagination, site integration, counts, ordering)  
  Collection locality page.  
    Luke, can we put specimen related data above the line and collection based data below the line?  And turn off the collection data if on the collection page?
  Advanced Search.  Add params in url.
  Image counts.
    Labels should not be counted as images.
    (for instance: Haidomyrmodes  on this page: 
       http://antweb.org/browse.do?rank=subfamily&name=sphecomyrminae&project=allantwebants 
    ) pending work on the view (image_count) underlying the materialize images process.
  Find out better search specimen limit.
  Get project reupload working correctly.
  Look into country/species database structure
  Eclipse / NetBeans
  Search possible on date collected and elevation fields.  Valid names only?
  Google Maps V3
  Brian's plan for upload process for different countries
  Verify, work subspecies
  Who calls specimen.setDescription?  Is the connection not closed?  It is set as a member of specimen.
     2013-01-19 13:20:04,927 WARN ajp-bio-8009-exec-476 org.calacademy.antweb.Specimen - setDescription() WSS.  Why is there no XML description for code:casent0103277
  Add specimen and project upload statistics to the log files. Before after.
  Jan 4 email thread - Map Species within this genus is not working
  Throw exception from Species.setImages(), map.setPoints()
  Finish switching specimen search results to searchResults.jsp - UI changes.  Add collection to report in case of advancedSearch.
  Fix images.  Don't display only label for genitalia.  http://www.antweb.org/description.do?name=phasmomyrmex&rank=genus&project=worldants
  Fix Sonoma species field guide direct call not supported isStaticCallCheck.
  Get the taxon table value of valid_name into specimen for display on the specimen-body.jsp
  Collection page show image counts.
  Page for scanners in Europe.
  Specimen data.  Sort.  What headers.  Search can.  Others, like browse, can't.
    Date.  Country and collector.  Want to sort on caste.
  Uptime service completion
  Investigate donate options
  Performance - extend caching system to record all requests, so as to find ones which do not return.
  Raise app quality - remove errors from logs.  Some are tough nuts.
  Upload Process
    Block upload of extra carriageReturnCheck records and subsequent record.  Maybe if easy.  Already logged.
    Check in upload.  Upload should fail on records that do not have all higher taxonomic positions filled.  Also, do not create new relationships (secondary ones)
    On upload of biota information, delete any taxons without description edits that do not have specimens in that upload file set.
    Disallow invalid subfamily uploads.  Done, yes?  *verify.
  Add Ivory Coast and country names without special characters.  Still need to correctly handle special chars in upload files.  
  Taxonomic image pages (all species or genera for a project) - be able to toggle among images and list.  Add breadcrumb trail to taxonomicPage.do.  Perhaps not do this for allantweb and bolton due to performance.
  EOL subjects stuff
  Verify that there are not other problems that arise with projects california and madagascar having shortened
    project names.  Probably best to have an explicit directory field?
  Investigate taxanomicnotes in description_edit.  Turn into taxonomic?
  March 28th email - antweb search mapping issues
  Handle Description_edit orphans.  Could be lots.  Currently 72. mostly fossil.
    Clear form properties for Description Edit Orphans tool
    To be run by admin.  Accessible by curators.
    Options:
      Transfer to: Subfamily, genus drop downs.  Hand type species.  Until fancy javascript option.
      Delete
    Add functionality to show description edits for orphaned taxons that do not have specimens.
    Do by login
    Do not show taxonomic history.  Or should we just delete those.
  Handle Favorite_images orphans.  Follow through with report creation.
  Change specimen rank to "specimen" instead of null.  In siteNav lead to view and browse for the specimen's species. 
  Create UI mechanism to set group abbrev (low priority)
  Convert Dates.  Biota will use old format.  Convert.
    Finish partial date formats
  Add "change current..." to slide show.
  Follow up on query about Arizono compares from Jan 30th.
  Specimen page should display species group consistly - deferred to coincide with AntCat work.   
  Species file upload.  Make sure first column is < 15characters.  Equal to line count.
  Consistentenly handle polishing of project names across BrowseAction, FieldGuide, MapComparison
    lowercase and tranform (gynandromorphants to anomalousants)
  Why does GoogleMaps show up only on some taxon pages?
  Why does production server start twice on /etc/init.d/priv_tomcat and shutdown once?  Not on stage.
  Generate biogeographic regions according to lists
  Reload ProjectResources on Project Add
  Comments on specimen page?  When Brian says so.
  Find why mapComparison is not showing on species page.  
    Phase 2: Where ever there are PDFs, replace with the new mapComparison template in place (Luke).
  On getComparison.do.  Use medium size images.  And link to bigImage.  
    Open a new window or tab to see bigImage.  Add this to mapComparison as well.
    See if I can fix that tool of levels and views.  Add compare Selection button to top of page.
    OneView.jsp?  Can we get rid of Compare Selected and have all functionality be on the one page.
      Could we have an All option in the header  
  The following items have been added to my task list due to ESA Reno antweb workshop
    How are partial dates handled?
    Come back to Dates issue.  Collection start and end date.  Included into specimen upload process.
      Collection start/end date.  Date info added to collection page.
    Collection, location and specimen notes. (expand contract)
    Help Luke integrate the new Field Guide template.
    TAPIR / GBIF
    Date or at least year added to advanced search
  Reload regions at region creation. 		
  Get the taxonomic browser and description pages to display grandchildren.    
  Follow up:  Remove taxons with numbers, quotes.  First find where they come from.  Allantweb - genera list.
  Data cleanup
      select proj_name, count(*) from description where proj_name = "australiantants" group by proj_name;  // 11K!  Description depricated?
      Orphaned specimens
    Project data needed to be cleaned up?  There are records from "austrailiantants" but the region is "austrailianants".
     There are 209 "none" proj_taxon records.  "australiantants" exists in the country_bioregion table.
    Is it possible to show specimens only of a certain bioregion, but coordinating through country?  Would seem useful.
      
  Bug fix
  Why does field guide not display properly the first time after a server restart?  
  2011-09-22 19:43:55,514 ERROR ajp-bio-8009-exec-17 org.calacademy.antweb.Taxon - e:java.lang.StringIndexOutOfBoundsException: String index out of range: -1 Problem?  start:0end:10 rank:genus fullName:(ponerinae) for taxon:(ponerinae)
    here: (ponerenae) http://www.antweb.org/browse.do?rank=subfamily&name=ponerinae&project=worldants
  BOLD script
  Fix error messages to not claim session expiration when not true
  Eli's Invasive Species project
  Resolve taxon_country issues in Bolton upload.  Why primary key on taxon???
  Brian Email "Fwd: Regarding AntWeb page" from Sep 15th regarding biota fields and specimen info
    add Locality Notes, and Collection Notes.   
  Apache Portable Runtime (APR) based Native library for Tomcat
  To do: add to locality, collection pages.  ... data uploaded by "Cal Academy of Sciences   (example)
  updating the project list on project add
  Upload Zip.  Automate.
  Anonymous comments
  Date range or just date for specimen
  Upper cased CASENTs.  See: http://antweb.org/specimen.do?name=CASENT0103345
  Security revue.  Change passwords.
  AntCat integrations.  Clickable links in Taxonomic History.  Bolton summary.  Forminicae stats.  Add an extant field to taxon.
  Vincent's fossil, description edit issues.  Design.
  Login and group should be recorded for upload actions.
  Bonnie's Anc file issue  
    Track ancillary pages.  Display on home page.
  Eli Agbayani eagbayani@eol.org.  updates to support our eol services.
    Characters at beginning.  ConcurrentExceptions.  EOL data
  Resolve image picker problem with fiji - Monomorium destructor
  Allow flexibility to image naming, to make equal with the allowed specimen codes?  See: blf0976%2840%29-2
  Finish curators page redesign.
  Login Cookie usage to enable auto-login (remember me functionality).
  Investigate - What to do with staff and documentation page.  They can be dynamically modifed, but 
    they can require code modifications.  Put in cvs and they will overwrite dynamic changes.  Hmm.
  Indicate that GoogleEarth results are fractional if they are.  Performance?  Log.
  Maps are stored in the session.  If a user where to have a locality page open in one tab, refresh a taxon page in another tab, then click the "Enlarge Map" on the locality page, they would seem the map for the taxon.
  Clean up project resources.  Use db as master of project data.
    An unidentified bug (probably in UploadAction.java) has been miswriting the ProjectResources.properties file creating SQL exceptions that would keep maps from displaying on certain pages.  I have modified the file by hand to fix the error but not found the root cause.
  Compare results?
  Fwd: Antweb from Feb 19 from John Longino
    Comments, Notes and Taxonomic Notes.  See email from Feb 19.
  Write all dynamic jsp files to a separate homePage directory
  Check on the plazi bit in ApplicationProperties
  Image picker to support male ants

 Assorted random little things
  verify province upload.    
  Check Map:277 for allantweb criterion
  Uploading a biota file - use of access_login flaky.  Could cause problems if another user ever uploaded.
  Test Jack's upload.  http://www.antweb.org/locality.do?name=Rio%20Amarillo for special chars.
  Pending:
    It is viridis not viride
      Get Rid of: http://www.antweb.org/description.do?rank=species&genus=monomorium&name=viride&project=floridaants
      right link: http://www.antweb.org/description.do?name=viridis&genus=monomorium&rank=species&project=floridaants
    query: select * from taxon where taxon_name = 'myrmicinaemonomorium viride';        
  Worldants Summary
    Why do undet's get included in bolton?
     Emphasis on broken favorite images picker.
       description.do?genus=nomamyrmex&name=undet&rank=species
       http://www.antweb.org/imagePick.do   Nomamyrmex undet   is available under default.  Not worldants.
     Why is Ecitoninae listed as a species in the taxon table?
      It's image was listed for Bolton undet favorites: http://www.antweb.org/images/casent0104124/casent0104124_h_1_med.jpg
  To do?
    2. Fix Erin's problem with spaces in names.  Depends on 3.
    3. mod_jk - configure apache to answer php calls.  Enables 2, 4.

Data anomalies
  Subfamily not displayed here (it is cerapachyinae): http://localhost/antweb/browse.do?subfamily=cerapachyinae&name=cerapachys_f01&rank=genus&project=worldants
  Parenthesis item: http://localhost/antweb/description.do?subfamily=ponerinae&name=(ponerinae)&rank=genus&project=worldants

Questions:
  Parenthesis in names?  Sep 24th email.  See Ponerinae subfamily
    
Prospective
  Post a comment function to all pages (specimen, etc...).  So that any (registered?) user can...  To be emailed.
  Allow upload tool to upload photos of localities
    


