
0) Compare Tool.  Was a Null Pointer exception.  Now is "name is null" error.  Due to BrowseForm.name not set?
  Priority: Critical
  
1) Need to be able to update the "World Ant Collection" pages (the one-offs that are of the museums, and I can't find where one does that in the Admin Tool) - any pointers? 
  Owner: Luke

2) Advanced Search - on antweb_test, the various includes looking for files in /web/genInc/ are causing the page to throw the increasingly misleading "You've been away to long" message. I've commented out those includes for the time being (and put in “Replace me” placeholders) so as to be able to update the layout. Any thoughts on why this might be happening?
  Owner: Mark
  Priority: Critical
  Note: Mark says - Resolved?
  Resolved.

3) Need to have advancedSearchResults-body create the link generated by SearchListAction.java as the page loads so that clicking on “Download” can behave as it does everywhere else. 
  Note: Mark says - On the live site, the link is: http://www.antweb.org/getSearchList.do  Are you suggesting a functional change?
  Note: Luke says - is a suggested/desired functional change - I don't want the user to have to go to a separate page to load getSearchList, I want that link generated *with* the search results, so that the "Download" functionality is consistent with the way it's being done on non-advanced search pages.
  Priority: not critical

4) Need to update Apache’s mod_expires module to do caching of all images (this will make pages load more quickly).
  Owner: Luke.  #4 I can probably do (it's pretty simple Apache config directive)
  Note: Mark says - Can you make these changes?

5) Need to have imagePage-body and showBrowse-body be able to show the *next* levels in the taxon. See http://10.2.22.83/antweb_test/images.do?rank=genus&name=acanthognathus&project=allantwebants and http://10.2.22.83/antweb_test/browse.do?rank=genus&name=acanthognathus&project=allantwebants as example, where Children and/or Subtaxon are represented by “X”. 

6) Need to have imagePage-body know the total count of images for each taxon. See http://10.2.22.83/antweb_test/images.do?rank=genus&name=acanthognathus&project=allantwebants as example, where Photos are represented by “X”. The underlying java page is DescriptionAction.java.

7) So as to be able to have the “Overview | Images | List | Map” links, as well as the Classification links, work correctly on all pages, I need to have access to getBrowserParams() on the following:

 dynamicMap-body.jsp
 search/fieldGuide-body.jsp
 mapComparison-body.jsp
 comparison-body.jsp
 specimen-body.jsp
 specimenImages-body.jsp
 bigPicture-body.jsp 

  Note: Mark says - I think the browser params is just the request.getQueryString() so I think you have what you need.
  Note: Luke says - I'll investigate, but I'm pretty sure that request.getQueryString isn't going to cut it, as the query string for those pages doesn't have enough being passed through  (and when I tried just adding in additional parameters to the query string, the page(s) threw exceptions).

8) Investigate why specimen-body.jsp isn't spitting out all photos (only displaying up to 4, even if there are more). This seems to work correctly on the live site, and I don’t believe I’ve changed the iterate logic.

9) Investigate why sometimes (there doesn't appear to be a rhyme or reason) image pages above the specimen level stop iterating on the set. See http://10.2.22.83/antweb_test/images.do?name=myrmicinae&rank=subfamily&project=allantwebants as example (says 152 Genera Image, but only displays 42 genera). The underlying java page is DescriptionAction.java.

10) To address the new larger image display, create a script go through and batch new thumbnail size with ImageMagick (resulting in a ~39k image)  for all existing images – and then update the current perl/resizeImages.pl script do the same thing for all future images.

 start with TIFF version (will need to test – may be more efficient/faster to start with highres JPG version)
 -density 72
 -quality 80
 max width 480
 max height 480
 do h/w comparison, ceiling for ratio...
And then do redo all the medium sized images as well (with the same params) – they're way too big file-size-wise (~40k, when they should be ~11k) (and again, update perl/resizeImages.pl to reflect the optimized way to do the same thing with all future images). 

Push comes to shove, I’m willing to write the script(s) to address this (keep in mind, this needs to run on the live site, as that’s where all the images are). It will be dealing with ~100,000 images (4 +/-  per specimen (h|p|d|l) x 25,000+ specimens), so regardless of who takes care of this, it should likely be run after 6pm SF time, and do batches in groups of, say, 1,000, with a time out of, say, a minute, between running the script again. Details TBD, based on testing and how heavy the performance load is.

  Note: Mark says - seems like a fair size job to me.  It is a bit sensitive in terms of performance and due to the critical nature of the data.  You are welcome to that bit of work if you like.
  Note: Luke says - is indeed some work, and needs to be solid before being run. I can do some tests on my server to get the logic working correctly, and then we'll likely want to run tests on stage to make sure it does the right thing (which will require us copying over at least some of the images to stage) - and, clearly, having a backup of the images.

11) Don’t cache taxonChildImageSet.jsp. I’ve done the cookie-ing stuff to allow for how the user wants to see images, and with that page being cached, you need to refresh the page for it to display correctly, which is at very least confusing/bad user experience. 

  Note: Luke says - (turning off caching for taxonChildImageSet) *is* actually critical, as with it caching, it requires the user to reload the page for the chosen ant view to kick in.   
  Priority: Critical

12) More of an FYI – to do the “infinite scrolling” where content shows up as you scroll down the page, we have to be doing pagination (as that’s how to have the scripts know where to pull from for the next set of data to scroll into view). This could be dealt with at a future date.
  Priority - not critical
  
13) More of an “it would be nice to have but we want to have it eventually”: use specimenReport on Collection and Locality, so that layouts are consistent.
  Priority - not critical
  
  




